<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>HW 2(CS 635) | MLBio+ Laboratory</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/~hrangwal/sites/all/themes/nitobe/favicon.ico" type="image/x-icon" />
		<link type="text/css" rel="stylesheet" media="all" href="/~hrangwal/sites/default/files/css/css_eaed5ee67284326ba9e2a752c33bb566.css" />
<link type="text/css" rel="stylesheet" media="screen" href="/~hrangwal/sites/default/files/css/css_a5d34e900b3fb4657272ecfb0d3f0ee7.css" />
<link type="text/css" rel="stylesheet" media="print" href="/~hrangwal/sites/default/files/css/css_1f691132d615fa9edb76248c88e261a9.css" />
<style type="text/css">#masthead{background-image:url(http://www.cs.gmu.edu/~hrangwal/sites/all/themes/nitobe/headers/Earth_from_ISS.jpg);}</style>
		<script type="text/javascript" src="/~hrangwal/sites/default/files/js/js_7f97b92a3f70662cff6fd903d3a092d8.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/~hrangwal/" });
//--><!]]>
</script>
		<!--[if lt IE 8]>
			<link type="text/css" rel="stylesheet" media="screen" href="/~hrangwal/sites/all/themes/nitobe/styles/fix-ie.css" />
		<![endif]-->
	</head>
	<body class="nitobe not-front not-logged-in page-node node-type-page one-sidebar sidebar-left">
		<div id="page-wrapper" class="clear-block">
			<div id="header-area" class="container-16">
				<div id="title-group" class="grid-12">
			            <a href="/~hrangwal/" title="MLBio+ Laboratory"><img src="/~hrangwal/sites/all/themes/nitobe/logo.png" alt="" id="logo" /></a>			            <span id="site-title"><a href="/~hrangwal/" title="MLBio+ Laboratory">MLBio+<span class="alt-color">Laboratory</span></a></span>			            <span id="site-slogan">Machine Learning in Biomedical Informatics</span>			        </div><!-- /title-group -->
			        			        			        	<div id="search-top" class="grid-4"><form action="/~hrangwal/node/492"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-188496ea8c68ce39f316be6edef07d19" value="form-188496ea8c68ce39f316be6edef07d19"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
</div>
			                  		<hr class="break"/>
          		            		<div id="header-links" class="grid-16">
            		    <ul id="primary-nav" class="grid-16"><li class="menu-143 first"><a href="/~hrangwal/myself" title="Huzefa Rangwala">Home</a></li>
<li class="menu-567"><a href="https://cs.gmu.edu/~hrangwal/blog/" title="">News</a></li>
<li class="menu-498"><a href="/~hrangwal/mlbio" title="">Projects</a></li>
<li class="menu-462"><a href="/~hrangwal/biblio" title="Displays all the Publications">Publications</a></li>
<li class="menu-349"><a href="/~hrangwal/dmrg" title="Data Mining Reading Group">Reading Group</a></li>
<li class="menu-146"><a href="/~hrangwal/node/4" title="Software and Web Servers">Software</a></li>
<li class="menu-305"><a href="/~hrangwal/node/122" title="Service">Service</a></li>
<li class="menu-500"><a href="/~hrangwal/node/91" title="">Members</a></li>
<li class="menu-148"><a href="/~hrangwal/node/7" title="Classes">Teaching</a></li>
<li class="menu-501 last"><a href="/~hrangwal/node/373" title="Contact Information">Contact</a></li>
</ul>            		                  			<hr class="break"/>
            		                		              			</div><!-- #header-links -->
          		          		
		         	
			<div id="masthead" class="grid-16">
			              		</div><!-- /masthead -->
          		<hr class="rule-top grid-16"/>
          		 	
			</div><!-- /header-area -->
			<hr class="break"/>
			<div id="content-area" class="container-16">
				<div id="content" class="grid-12 push-4">
					<div class="breadcrumb"><a href="/~hrangwal/">Home</a></div>																				          				<div id="page-headline" class="clear-block">
    					    <h1 id="page-title" >HW 2(CS 635)</h1>    					              				</div><!-- #page-headline -->
														<div id="node-492" class="node  node-page clear-block">
  <div class="content clear-block">
            <span class='print-link'></span><p><b> QuickSort Throughput Parallel Implementation using pThreads || OpenMP </b></p>
<p><b> Teams: </b>  Max 2</p>
<p><b> Due Date: </b> March 5, 2014 [4:29 PM EST]. There are 3 weeks to do this assignment. </p>
<p><b> Part 1: </b> Theory [0 points, optional] 3.21, 3.15, 3.16 and 2.6</p>
<p><b> Part 2: </b> Programming [100 points]<br />
<b> Introduction : </b> The purpose of this assignment is to implement a dynamic scheduler  that balances the work provided to a set of threads. The work to be accomplished  is "sorting" and you need to implement a parallel quicksort algorithm as the work and we will do several runs of those with varying input sizes. </p>
<p>I am providing code that  generates a set of arrays  with uniform or non-uniform number of elements.  The seed for randomization is fixed for benchmarking and ensures that everyone gets the same inputs. I also provided my version of serial quicksort in sort.c. Feel free to modify the logic or use the same one for the scheduler.</p>
<p>The program "qs" should be run on the command line as follows:</p>
<p><code><br />
qs1.0 [num elements] [num arrays] [uniform=1/0]<br />
</code><br />
where "num elements" is the maximum number of elements within an array, num arrays is the total number of arrays (work) that needs to be sorted and "uniform" is a binary variable which if set to 1 implies that each array will have the same number of elements otherwise the number of elements in an array can vary.</p>
<p>The main calling function, serial quick sort along with a Makefile in the tar.gz archive <a href="http://www.cs.gmu.edu/~hrangwal/files/qs.tar.gz"> (qs.tar.gz) </a></p>
<p>Example:</p>
<p>"qs1.0 10000 10 1" will create 10 arrays of 10K elements each.<br />
"qs1.0 100 10 1" will create 10 arrays with a maximum of 100 elements each.</p>
<p><b> Motivating the Problem: </b></p>
<p>I ran my implementation of serial quicksort on 100 arrays with maximum number of elements per array 10 million (10M) and plotting the run-time for the different runs of quicksort in the graph below:<br />
<a href="http://www.cs.gmu.edu/~hrangwal/files/op2.jpg"><br />
<img src="http://www.cs.gmu.edu/~hrangwal/files/op2.jpg" width=500 height=300" />  </a></p>
<p><b> Requirements/Guidelines:</b></p>
<ol>
<li> Develop a parallel implementation for running quicksort  for a single array using either openMP or pthreads (not both). The sorting should be in descending order (This is important). Benchmark this function using the following configurations. 1) Vary the number of elements in the array as 1 million, 10 million and 100 million; (ii)number of processors= 1 and 8.  There are several ways to do this and it's your choice what you implement. Refer to this  <a href="http://parallelcomp.uw.hu/ch09lev1sec4.html"> link for  some reading on parallel quicksort </a>.  Sec 9.4 of your book.
</li>
<li> Develop a pthread based static scheduling system where given a number of arrays (N) each thread (or group of threads) will be responsible for sorting N/p arrays.  You can choose to use a serial implementation of quicksort or the parallel one implemented above. Benchmark the algorithm using the following configurations:<br />
<table>
<tr>
<td> Uniform Number of Elements in Array </td>
<td>Number of Elements in Array </td>
<td> Number of Arrays </td>
<td> Number of Threads </td>
</tr>
<tr>
<td>Y/N</td>
<td>1M </td>
<td>1K, 10K and 100K</td>
<td> 1, 2, 4 and 8</td>
</tr>
<tr>
<td>Y/N </td>
<td>10M </td>
<td>100 and 1K </td>
<td> 1, 2, 4, 8 </td>
</tr>
</table>
<p>There are a total of 40 different configurations.
</p></li>
<li> Now develop a pthread based dynamic scheduler (e.g., producer-consumer model) where 1 producer thread creates the different arrays and consumers sort the different arrays in descending order using the quicksort algorithm. Once, the producer is done 'producing' it can start consuming. Benchmark the code on the previous configurations reporting the total runtime for completing the workload. Ideally it should be faster than the static scheduler.  You may want to vary the work sent to per consumer thread to get the optimal performance.
</li>
<li> Competition for Performance:  Note, the best time you observed for 10million sized 1K arrays for the non-uniform workload. Report it on piazza <a href="https://piazza.com/class/hpyj5hvqbmhwx?cid=23">  (at this link) </a> and in the PDF. The best performing dynamic code will receive extra credit [2%].
</li></ol>
<p><b>What you need to turn in </b></p>
<ol>
<li> The source files of your programs. </li>
<li> A short writeup describing how you went about parallelizing the  scheduler. [Half a Page]</li>
<li> Timing results for your programs for the different benchmark configurations and the three programs.<br />
 You can compile these timing results into nice-looking charts. Include them in the above report.  Be sure to compare the dynamic and static scheduler</li>
<li> Comment on your observations from above. </li>
</ol>
<p><b>How to submit your programs/report </b></p>
<ol>
<li>     Create a directory that has the following structure: </li>
<li> gmu-user-name/qs-parallel/your-source-files-go-here</li>
<li> gmu-user-name/pthreads-qs-static/your-source-files-go-here</li>
<li> gmu-user-name/pthreads-gs-dynamic/your-source-files-go-here</li>
<li> gmu-user-name/report/the-pdf-of-your-report </li>
<li> Make sure that each of your source file directories can be built by simply executing 'make'. </li>
<li> Do not put any test files in the above directories.</li>
<li>     Create a tar file from the above directory structure and compress it. That is the file should be "gmu-user-name-.tar.gz" </li>
<li>         Upload that single file in the blackboard website by the due date. </li>
<li>  Feel free to copy the Makefile and modify it to include any extra files which you may have. </li>
<li>  Please submit reports in .pdf format, not .doc or .docx </li>
</ol>
<p><b> Evaluation Criterion </b></p>
<ol>
<li>[60%] Correctness of Parallel Code, Speedup Achieved </li>
<li>[40%] Benchmarking and Explanation of Results </li>
</ol>
  </div>
      <div class="meta">
                <div class="links"><ul class="links inline"><li class="print_mail first last"><a href="/~hrangwal/printmail/492" title="Send this page by e-mail." class="print-mail" rel="nofollow">Send to friend</a></li>
</ul></div>
          </div>
  </div> <!-- node -->
				</div><!-- /content -->
									<div id="left-sidebar" class="grid-4 pull-12">
					  <div id="block-menu-menu-classes" class="block block-menu block-left">
    	<h2>Classes</h2>
    <ul class="menu"><li class="leaf first"><a href="/~hrangwal/cs367" title="CS 367: Computer Systems and Programming">CS 367 (Fall 2017)</a></li>
<li class="expanded last active-trail"><a href="/~hrangwal/node/7" title="">Archived Classes</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/cs584F2016" title="CS 584: Data Mining (Syllabus Page)">CS 584</a></li>
<li class="collapsed"><a href="/~hrangwal/cs584F2015" title="CS 659: Theory and Applications of Data Mining">CS 584 (TASC)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs695Sp15SocNet" title="CS 695: Social and Information Network Analysis">CS 695 (Spring 2015)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465F2014" title="CS 465 (Fall 2014)">CS 465 (Fall 2014)</a></li>
<li class="expanded active-trail"><a href="/~hrangwal/CS635Spring2014" title="CS 635: Foundations of Parallel Computation">CS 635 (Spring 2014)</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/node/485" title="Schedule">Schedule</a></li>
<li class="leaf"><a href="/~hrangwal/node/487" title="Important Links">Links</a></li>
<li class="expanded active-trail"><a href="/~hrangwal/node/490" title="Assignments">Assignments</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/node/489" title="HW 0 (CS 635)">HW0</a></li>
<li class="leaf"><a href="/~hrangwal/node/491" title="HW 1 (CS 635)">HW 1</a></li>
<li class="leaf active-trail"><a href="/~hrangwal/node/492" title="HW 2(CS 635)" class="active">HW 2</a></li>
<li class="leaf"><a href="/~hrangwal/node/493" title="HW 3 (CS 635)">HW 3</a></li>
<li class="leaf"><a href="/~hrangwal/node/495" title="HW 4 (CS 635)">HW 4</a></li>
<li class="leaf last"><a href="/~hrangwal/node/496" title="HW 5 (CS 635)">HW 5</a></li>
</ul></li>
<li class="leaf last"><a href="/~hrangwal/node/486" title="Parallel Computing Resources">Resources</a></li>
</ul></li>
<li class="collapsed"><a href="/~hrangwal/cs465-fall2012" title="CS 465: Computer Systems and Architecture (Fall 2012)">CS 465 (Fall 2012)</a></li>
<li class="collapsed"><a href="/~hrangwal/infs755" title="INFS 755: Data Mining">INFS 755 (Fall 2011)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465F2013" title="CS 465: Computer Systems and Architecture (Fall 2013)">CS 465 (Fall 2013)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs750" title="CS 750: Theory and Applications of Data Mining (Spring 2011)">CS 750 (Spring 2011)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465" title="CS 465 (Fall 2010) Computer Systems Architecture">CS 465 (Fall 2010)</a></li>
<li class="collapsed"><a href="/~hrangwal/node/20" title="Syllabus">CS 795 (Spring 2010)</a></li>
<li class="collapsed"><a href="/~hrangwal/bioml" title="CS 795 (Fall 2009) Biological Data Mining">CS 795 (Fall 2009)</a></li>
<li class="collapsed"><a href="/~hrangwal/class-bio" title="CS 795 (Spring 2009)">CS 795 (Spring 2009)</a></li>
<li class="collapsed last"><a href="/~hrangwal/node/8" title="INFS 755 Data Mining (Fall 2008)">INFS 755 (Fall 2008)</a></li>
</ul></li>
</ul></div><!-- /block-menu-menu-classes -->
<hr class="break"/>					</div><!-- /left-sidebar -->
											</div><!-- /content-area -->
			<hr class="break"/>
			<div id="bottom-blocks" class="container-16">
				<hr class="rule-bottom grid-16"/>
				<div id="bottom-left" class="grid-4">
									</div><!-- /bottom-left -->
				<div id="bottom-center-left" class="grid-4">
									</div><!-- /bottom-center-left -->
				<div id="bottom-center-right" class="grid-4">
									</div><!-- /bottom-center-right -->
				<div id="bottom-right" class="grid-4">
					<div id="block-system-0" class="block block-system block-bottom_right">
    <a href="http://drupal.org"><img src="/~hrangwal/misc/powered-blue-80x15.png" alt="Powered by Drupal, an open source content management system" title="Powered by Drupal, an open source content management system" width="80" height="15" /></a></div><!-- /block-system-0 -->
<hr class="break"/>				</div><!-- /bottom-right -->
			</div><!-- /bottom-blocks -->
			<hr class="break"/>
			<div id="footer-area" class="container-16">
				<hr class="rule-top grid-16"/>
				<div id="footer" class="grid-16">
					(c) Rangwala 2008, George Mason University, Fairfax, VA				</div><!-- /footer -->
			</div><!-- /footer-area -->
			<hr class="break"/>
		</div><!-- /page-wrapper -->
			</body>
</html>

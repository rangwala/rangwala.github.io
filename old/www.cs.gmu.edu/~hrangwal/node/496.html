<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>HW 5 (CS 635) | MLBio+ Laboratory</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/~hrangwal/sites/all/themes/nitobe/favicon.ico" type="image/x-icon" />
		<link type="text/css" rel="stylesheet" media="all" href="/~hrangwal/sites/default/files/css/css_eaed5ee67284326ba9e2a752c33bb566.css" />
<link type="text/css" rel="stylesheet" media="screen" href="/~hrangwal/sites/default/files/css/css_a5d34e900b3fb4657272ecfb0d3f0ee7.css" />
<link type="text/css" rel="stylesheet" media="print" href="/~hrangwal/sites/default/files/css/css_1f691132d615fa9edb76248c88e261a9.css" />
<style type="text/css">#masthead{background-image:url(http://www.cs.gmu.edu/~hrangwal/sites/all/themes/nitobe/headers/Earth_from_ISS.jpg);}</style>
		<script type="text/javascript" src="/~hrangwal/sites/default/files/js/js_7f97b92a3f70662cff6fd903d3a092d8.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/~hrangwal/" });
//--><!]]>
</script>
		<!--[if lt IE 8]>
			<link type="text/css" rel="stylesheet" media="screen" href="/~hrangwal/sites/all/themes/nitobe/styles/fix-ie.css" />
		<![endif]-->
	</head>
	<body class="nitobe not-front not-logged-in page-node node-type-page one-sidebar sidebar-left">
		<div id="page-wrapper" class="clear-block">
			<div id="header-area" class="container-16">
				<div id="title-group" class="grid-12">
			            <a href="/~hrangwal/" title="MLBio+ Laboratory"><img src="/~hrangwal/sites/all/themes/nitobe/logo.png" alt="" id="logo" /></a>			            <span id="site-title"><a href="/~hrangwal/" title="MLBio+ Laboratory">MLBio+<span class="alt-color">Laboratory</span></a></span>			            <span id="site-slogan">Machine Learning in Biomedical Informatics</span>			        </div><!-- /title-group -->
			        			        			        	<div id="search-top" class="grid-4"><form action="/~hrangwal/node/496"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-db84b92a91b0f0d2badb2f831fd2bcf1" value="form-db84b92a91b0f0d2badb2f831fd2bcf1"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
</div>
			                  		<hr class="break"/>
          		            		<div id="header-links" class="grid-16">
            		    <ul id="primary-nav" class="grid-16"><li class="menu-143 first"><a href="/~hrangwal/myself" title="Huzefa Rangwala">Home</a></li>
<li class="menu-567"><a href="https://cs.gmu.edu/~hrangwal/blog/" title="">News</a></li>
<li class="menu-498"><a href="/~hrangwal/mlbio" title="">Projects</a></li>
<li class="menu-462"><a href="/~hrangwal/biblio" title="Displays all the Publications">Publications</a></li>
<li class="menu-349"><a href="/~hrangwal/dmrg" title="Data Mining Reading Group">Reading Group</a></li>
<li class="menu-146"><a href="/~hrangwal/node/4" title="Software and Web Servers">Software</a></li>
<li class="menu-305"><a href="/~hrangwal/node/122" title="Service">Service</a></li>
<li class="menu-500"><a href="/~hrangwal/node/91" title="">Members</a></li>
<li class="menu-148"><a href="/~hrangwal/node/7" title="Classes">Teaching</a></li>
<li class="menu-501 last"><a href="/~hrangwal/node/373" title="Contact Information">Contact</a></li>
</ul>            		                  			<hr class="break"/>
            		                		              			</div><!-- #header-links -->
          		          		
		         	
			<div id="masthead" class="grid-16">
			              		</div><!-- /masthead -->
          		<hr class="rule-top grid-16"/>
          		 	
			</div><!-- /header-area -->
			<hr class="break"/>
			<div id="content-area" class="container-16">
				<div id="content" class="grid-12 push-4">
					<div class="breadcrumb"><a href="/~hrangwal/">Home</a></div>																				          				<div id="page-headline" class="clear-block">
    					    <h1 id="page-title" >HW 5 (CS 635)</h1>    					              				</div><!-- #page-headline -->
														<div id="node-496" class="node  node-page clear-block">
  <div class="content clear-block">
            <span class='print-link'></span><p><b> CUDA Programming: </b> Computing Cell-based histograms.</p>
<p><b> Teams: </b>  Max 2</p>
<p><b> Due Date: </b> April 30, 2014 [4:29 PM EST]. There are 3 weeks to do this assignment. </p>
<p><b> Input Data: </b> <a href="http://www.cs.gmu.edu/~hrangwal/files/op10M.txt" title="http://www.cs.gmu.edu/~hrangwal/files/op10M.txt">http://www.cs.gmu.edu/~hrangwal/files/op10M.txt</a></p>
<p><b>Introduction </b></p>
<p>The purpose of this assignment is to become familiar with CUDA/GPU programming and optimize the performance of your developed program. The task at hand is to do a histogram computation.</p>
<p><b>Description</b></p>
<p>The objective of your program is to count the distribution of different types of nodes (in different colors) in several segmented regions within a two-dimensional data as shown below. In the example below we segment a 100 x 100 represented data into 4 x 4 cells. The "cell" in the top-left corner has the following distribution of blue, green and red points [4,0,5] i.e., 4 blue points, 0 green points and 5 red points.</p>
<p><a href="http://www.cs.gmu.edu/~hrangwal/files/cell_split.jpg"> <img src="http://www.cs.gmu.edu/~hrangwal/files/cell_split.jpg" width=500 height=500 /> </a></p>
<p>Though, the provided data is synthetic you can imagine computing the number of Pepsi versus Coke stores segmented in different regions of United States.</p>
<p><b> Specifics </b><br />
The objectives is to develop a program in CUDA that will produce an executable called  "histogram_compute". The program will take in three parameters in the following format</p>
<p><code><br />
histogram_compute inputfile X-Cell-Width Y-Cell-Width outputfile<br />
</code></p>
<p>where </p>
<ul>
<li>inputfile is the filename of the provided input. </li>
<li>X-Cell-Width is the provided width of cell along the "X dimension" </li>
<li>Y-Cell-Width is the provided width of cell along the "Y dimenion" </li>
<li>outputfile stores the resulting distribution information. </li>
</ul>
<p>The inputfile contains N+1 rows where each row represents the (x,y) co-ordinates along with information about the "color" of the node.  N represents the total number of points within the input file.<br />
The first line in the inputfile stores the number of points (N), the maximum value for X-dimension, the maximum value for Y-dimension and the total number of colors (starting from 1). Minimum values along X and Y dimensions are assumed to be 0.</p>
<p>The output file show store for each cell the distribution vector obtained. It will be represented in row major order.<br />
Each line will be formatted as<br />
[X,Y]: xx yy zz aa bb ...<br />
where X and Y are the x and y co-ordinates of cells within the 2D region starting at [0,0] and xx yy zz aa.. are the counts of the different colors.</p>
<p><b>Testing: </b><br />
I provide you with an example input file  with <a href="http://www.cs.gmu.edu/~hrangwal/files/op10M.txt"> 10million points (op10M.txt). </a></p>
<p><b> Requirements/Deliverables:</b></p>
<ol>
<li> Develop a CPU-version of your code and benchmark the performance of code on tesla1/tesla2 assuming input file to be op10M.txt and cell width sizes of (i) 1000 x 1000 and (ii) 1000 x 100. Report the serial run times obtained. Save this code in a directory "serial"</li>
<li> Develop the first GPU-version of your code. Save this code in directory "global" . Do not use shared memory. Benchmark the performance of the code on op10M.txt and cell width sizes (i) 1000 x 1000 and (ii) 1000 x 100. For each of the cell sizes determine the best configuration of grid/block dimensions and report any trends you might see by varying grid/block dimensions.
<p>While reporting GPU performance be sure to compute timing results separately for</p>
<ol>
<li>Memory transfer from host to device </li>
<li> Total computation of the histogram counting. </li>
<li> Memory transfer from device to host </li>
<li> Overall execution: include input file loading and exclude printing out result. </li>
</ol>
</li>
<li> Develop your second-GPU version of the code. Save it in directory "shared". Use shared memory appropriately. Benchmark on the two cell size configurations and compare performance to global/serial versions of the code. </li>
<li> Develop your third-GPU version of the code. Save it in directory "optimized". Use any means other than shared memory to obtained an optimized GPU version of your code. Benchmark again and compare to previous versions. </li>
</ol>
<p><b> Deliverables: </b></p>
<ol>
<li> The source code of your programs with the directory structure: serial, global, shared, optimized and report. </li>
<li> A short writeup describing how you went about solving the problem. </li>
<li> Once, you are confident of your result you do not need to output the final outputfile. However, provide in the directory report the output file obtained for the provided input.
</li></ol>
<p><b> Challenge (Not Required but interesting) </b> Develop an openMP version for performing the histogramming and compare the performance to the developed CUDA program.</p>
<p>Have Fun Optimizing CUDA.</p>
  </div>
      <div class="meta">
                <div class="links"><ul class="links inline"><li class="print_mail first last"><a href="/~hrangwal/printmail/496" title="Send this page by e-mail." class="print-mail" rel="nofollow">Send to friend</a></li>
</ul></div>
          </div>
  </div> <!-- node -->
				</div><!-- /content -->
									<div id="left-sidebar" class="grid-4 pull-12">
					  <div id="block-menu-menu-classes" class="block block-menu block-left">
    	<h2>Classes</h2>
    <ul class="menu"><li class="leaf first"><a href="/~hrangwal/cs367" title="CS 367: Computer Systems and Programming">CS 367 (Fall 2017)</a></li>
<li class="expanded last active-trail"><a href="/~hrangwal/node/7" title="">Archived Classes</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/cs584F2016" title="CS 584: Data Mining (Syllabus Page)">CS 584</a></li>
<li class="collapsed"><a href="/~hrangwal/cs584F2015" title="CS 659: Theory and Applications of Data Mining">CS 584 (TASC)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs695Sp15SocNet" title="CS 695: Social and Information Network Analysis">CS 695 (Spring 2015)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465F2014" title="CS 465 (Fall 2014)">CS 465 (Fall 2014)</a></li>
<li class="expanded active-trail"><a href="/~hrangwal/CS635Spring2014" title="CS 635: Foundations of Parallel Computation">CS 635 (Spring 2014)</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/node/485" title="Schedule">Schedule</a></li>
<li class="leaf"><a href="/~hrangwal/node/487" title="Important Links">Links</a></li>
<li class="expanded active-trail"><a href="/~hrangwal/node/490" title="Assignments">Assignments</a><ul class="menu"><li class="leaf first"><a href="/~hrangwal/node/489" title="HW 0 (CS 635)">HW0</a></li>
<li class="leaf"><a href="/~hrangwal/node/491" title="HW 1 (CS 635)">HW 1</a></li>
<li class="leaf"><a href="/~hrangwal/node/492" title="HW 2(CS 635)">HW 2</a></li>
<li class="leaf"><a href="/~hrangwal/node/493" title="HW 3 (CS 635)">HW 3</a></li>
<li class="leaf"><a href="/~hrangwal/node/495" title="HW 4 (CS 635)">HW 4</a></li>
<li class="leaf last active-trail"><a href="/~hrangwal/node/496" title="HW 5 (CS 635)" class="active">HW 5</a></li>
</ul></li>
<li class="leaf last"><a href="/~hrangwal/node/486" title="Parallel Computing Resources">Resources</a></li>
</ul></li>
<li class="collapsed"><a href="/~hrangwal/cs465-fall2012" title="CS 465: Computer Systems and Architecture (Fall 2012)">CS 465 (Fall 2012)</a></li>
<li class="collapsed"><a href="/~hrangwal/infs755" title="INFS 755: Data Mining">INFS 755 (Fall 2011)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465F2013" title="CS 465: Computer Systems and Architecture (Fall 2013)">CS 465 (Fall 2013)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs750" title="CS 750: Theory and Applications of Data Mining (Spring 2011)">CS 750 (Spring 2011)</a></li>
<li class="collapsed"><a href="/~hrangwal/cs465" title="CS 465 (Fall 2010) Computer Systems Architecture">CS 465 (Fall 2010)</a></li>
<li class="collapsed"><a href="/~hrangwal/node/20" title="Syllabus">CS 795 (Spring 2010)</a></li>
<li class="collapsed"><a href="/~hrangwal/bioml" title="CS 795 (Fall 2009) Biological Data Mining">CS 795 (Fall 2009)</a></li>
<li class="collapsed"><a href="/~hrangwal/class-bio" title="CS 795 (Spring 2009)">CS 795 (Spring 2009)</a></li>
<li class="collapsed last"><a href="/~hrangwal/node/8" title="INFS 755 Data Mining (Fall 2008)">INFS 755 (Fall 2008)</a></li>
</ul></li>
</ul></div><!-- /block-menu-menu-classes -->
<hr class="break"/>					</div><!-- /left-sidebar -->
											</div><!-- /content-area -->
			<hr class="break"/>
			<div id="bottom-blocks" class="container-16">
				<hr class="rule-bottom grid-16"/>
				<div id="bottom-left" class="grid-4">
									</div><!-- /bottom-left -->
				<div id="bottom-center-left" class="grid-4">
									</div><!-- /bottom-center-left -->
				<div id="bottom-center-right" class="grid-4">
									</div><!-- /bottom-center-right -->
				<div id="bottom-right" class="grid-4">
					<div id="block-system-0" class="block block-system block-bottom_right">
    <a href="http://drupal.org"><img src="/~hrangwal/misc/powered-blue-80x15.png" alt="Powered by Drupal, an open source content management system" title="Powered by Drupal, an open source content management system" width="80" height="15" /></a></div><!-- /block-system-0 -->
<hr class="break"/>				</div><!-- /bottom-right -->
			</div><!-- /bottom-blocks -->
			<hr class="break"/>
			<div id="footer-area" class="container-16">
				<hr class="rule-top grid-16"/>
				<div id="footer" class="grid-16">
					(c) Rangwala 2008, George Mason University, Fairfax, VA				</div><!-- /footer -->
			</div><!-- /footer-area -->
			<hr class="break"/>
		</div><!-- /page-wrapper -->
			</body>
</html>
